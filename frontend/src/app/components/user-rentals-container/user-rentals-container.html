@if (loading) {
  <div>Ładowanie wypożyczonych książek...</div>
} @else {
  @if (rentedItems.length === 0) {
    <p class="text-[color:var(--base-gray-lighter)] text-lg text-center my-6">
      Brak aktywnych wypożyczeń.
    </p>
  } @else {
    @for (item of itemsToDisplay; track item.id) {
      <app-profile-book-item
        [itemId]="item.id"
        [title]="item.title"
        [author]="item.author"
        [coverText]="item.title"
        [date]="item.dueDate!"
        [statusType]="'rent'"
        [imageUrl]="item.imageUrl"
        (rentalExtended)="onRentalExtended($event)"
      ></app-profile-book-item>
    }

    @if (rentedItems.length > 2) {
      <button
        class="w-full py-2 px-4 mt-2 bg-[color:var(--white-to-yellow)] border border-[color:var(--base-gray-lighter)] text-[color:var(--book-details-text-darker)] font-normal rounded-lg hover:bg-[color:var(--light-gray-to-light-yellow)] transition duration-150 cursor-pointer"
        (click)="openBooksDialog()"
      >
        Zobacz wszystkie aktywne wypożyczenia
      </button>
    }
  }
}
