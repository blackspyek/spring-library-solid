<h2
  class="text-2xl font-bold text-[color:var(--base-btn-secondary-bg)] flex justify-between items-center px-6 pt-8"
>
  Przedłuż wypożyczenie
  <button
    (click)="onNoClick()"
    aria-label="Zamknij okno"
    class="p-2 rounded-lg bg-[color:var(--white-to-dark-gray)] focus:outline-none cursor-pointer transition duration-200"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 24 24"
      fill="currentColor"
      class="w-6 h-6 text-[color:var(--gray-to-yellow)] hover:text-[color:var(--base-form-lighter-text)] transition"
    >
      <path
        fill-rule="evenodd"
        d="M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z"
        clip-rule="evenodd"
      />
    </svg>
  </button>
</h2>

<div class="px-6 py-2">
  <hr class="border-[color:var(--base-gray-light)]" />
</div>

<div class="px-6 py-4">
  @if (success()) {
    <div class="text-center py-6">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 24 24"
        fill="currentColor"
        class="w-16 h-16 mx-auto text-[color:var(--base-green)] mb-4"
      >
        <path
          fill-rule="evenodd"
          d="M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z"
          clip-rule="evenodd"
        />
      </svg>
      <p class="text-lg font-semibold text-[color:var(--base-green)]">
        Wypożyczenie zostało przedłużone!
      </p>
      <p class="text-sm text-[color:var(--book-details-text)] mt-2">
        Termin zwrotu został przedłużony o 14 dni.
      </p>
    </div>
  } @else {
    <div class="text-center">
      <p class="text-[color:var(--book-details-text-darker)] text-lg mb-2">
        Czy na pewno chcesz przedłużyć wypożyczenie książki?
      </p>
      <p class="text-[color:var(--edit-button-bg)] font-semibold text-xl mb-4">
        "{{ data.bookTitle }}"
      </p>
      <p class="text-sm text-[color:var(--book-details-text)] mb-6">
        Termin zwrotu zostanie przedłużony o <strong>14 dni</strong>.<br />
        <span class="text-[color:var(--base-red)]">Uwaga:</span> Wypożyczenie można przedłużyć tylko
        raz.
      </p>

      @if (error()) {
        <div
          class="bg-[color:var(--base-red-light)] border border-[color:var(--base-red)] text-[color:var(--base-red)] px-4 py-3 rounded-lg mb-4"
        >
          <p class="text-sm">{{ error() }}</p>
        </div>
      }
    </div>

    <div class="flex justify-end gap-3 mt-6">
      <button
        (click)="onNoClick()"
        [disabled]="loading()"
        class="bg-[color:var(--white-to-yellow)] border border-[color:var(--edit-button-bg)] text-[color:var(--edit-button-bg)] hover:bg-[color:var(--light-gray-to-light-yellow)] font-medium py-2 px-4 rounded-md transition duration-150 cursor-pointer"
      >
        ANULUJ
      </button>
      <button
        (click)="onConfirmClick()"
        [disabled]="loading()"
        class="bg-[color:var(--edit-button-bg)] hover:bg-[color:var(--blue-hover)] text-[color:var(--white-to-yellow)] font-medium py-2 px-4 rounded-md transition duration-150 cursor-pointer"
      >
        @if (loading()) {
          <svg
            class="animate-spin h-5 w-5 text-white"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
          >
            <circle
              class="opacity-25"
              cx="12"
              cy="12"
              r="10"
              stroke="currentColor"
              stroke-width="4"
            ></circle>
            <path
              class="opacity-75"
              fill="currentColor"
              d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
            ></path>
          </svg>
          Przedłużam...
        } @else {
          PROLONGUJ
        }
      </button>
    </div>
  }
</div>
